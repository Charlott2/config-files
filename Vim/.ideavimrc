" leader
let mapleader = ' '

" settings
set hlsearch
set incsearch
set smartcase
set ignorecase
set number relativenumber   " 显示行号，相对行号
set scrolloff=7
set ruler
set wrap                    " 超长软换行

" plugins
set easymotion
set surround
set argtextobj
set exchange
set highlightedyank
set textobj-entire
set NERDTree
"" plugin settings
set keep-english-in-normal-and-restore-in-insert    " 自动切换输入法
map <leader>f <Plug>(easymotion-s)                  " 搜索
map <leader>t :NERDTreeToggle<CR>                   " 打开边栏
nnoremap <leader>d :NERDTreeFocus<CR>               " 聚焦边栏

" basic key map
noremap s <nop>
"" $ & ^
nnoremap L $
nnoremap H ^
vnoremap L $
vnoremap H ^
"" j & k
nnoremap k gk
nnoremap gk k
nnoremap j gj
nnoremap gj j
"" esc
inoremap kj <esc>
""  ` & '
"" by default, ' jumps to the marked line,
"" ` jumps to the marked line and column, so swap them
nnoremap ' `
nnoremap ` '
"" reselect visual block after indent/outdent.
vnoremap < <gv
vnoremap > >g
"" tag
nnoremap ge gT
nnoremap gr gt
"" copy and paste
noremap <Leader>y "*y
noremap <Leader>p "*p
"" command line home & end
cnoremap <C-h> <Home>
cnoremap <C-l> <End>
"" edit vimrc
nnoremap <leader>ve :e C:/Users/Waoap/.ideavimrc<CR>
nnoremap <leader>vw :w!<CR>
nnoremap <leader>vs :so C:/Users/Waoap/.ideavimrc<CR>

" idea specific settings
set ideajoin
set idearefactormode=keep
"" intellij built in key map
nnoremap <leader>b :action Bookmarks<CR>
"nnoremap <leader>c :action GotoClass<CR>
nnoremap <leader>x :action FindInPath<CR>   " 在文件（默认在项目文件）中查找代码
nnoremap <leader>r :action RecentFiles<CR>
"" navigation
"nnoremap ga :action GotoAction<CR>
nnoremap gs :action GotoSuperMethod<CR>
"nnoremap gl :action JumpToLastChange<CR>
nnoremap gi :action GotoImplementation<CR>
nnoremap gd :action GotoDeclaration<CR>
nnoremap gf :action FileStructurePopup<CR>
"" run, build and debug
nnoremap ,d :action Debug<CR>
nnoremap ,r :action Run<CR>
nnoremap ,c :action CompileDirty<CR>
nnoremap ,b :action ToggleLineBreakpoint<CR>
nnoremap ,p :action ViewBreakpoints<CR>
nnoremap ,s :action Stop<CR>
"" code actions
nnoremap \u :action FindUsages<CR>
nnoremap \r :action RenameElement<CR>
nnoremap \f :action ReformatCode<CR>
nnoremap \s :action SaveAll<CR>
" toggle track vim action Id
" nnoremap ta :action VimFindActionIdAction<CR>
