# author: Waoap
# version: 2023.05.03
mixin: # Mixin 配置
  dns: # DNS 配置
    enable: true
    ipv6: true
    enhanced-mode: fake-ip # redir-host / fake-ip（推荐）
    fake-ip-filter: # 不使用 fake-ip 的列表
      # === Local ===
      - '*.lan'
      - '*.local'
      # === Microsoft Windows Serivice ===
      - '*.msftncsi.com'
      - '*.msftconnecttest.com'
      # === NTP Service ===
      - time.*.com
      - time.*.gov
      - time.*.edu.cn
      - '*.time.edu.cn'
      - time1.*.com
      - time2.*.com
      - time3.*.com
      - time4.*.com
      - time5.*.com
      - time6.*.com
      - time7.*.com
      - ntp.*.com
      - ntp1.*.com
      - ntp2.*.com
      - ntp3.*.com
      - ntp4.*.com
      - ntp5.*.com
      - ntp6.*.com
      - ntp7.*.com
      - ntp.*.*.cn
      - '*.ntp.org.cn'
      - '*.pool.ntp.org'
      # === Music Service ===
      ## NetEase
      - '*.music.163.com'
      - '*.126.net'
      ## Baidu
      - musicapi.taihe.com
      - music.taihe.com
      ## Kugou
      - songsearch.kugou.com
      - trackercdn.kugou.com
      ## Kuwo
      - '*.kuwo.cn'
      ## JOOX
      - api-jooxtt.sanook.com
      - api.joox.com
      - joox.com
      ## QQ
      - '*.y.qq.com'
      - '*.music.tc.qq.com'
      - aqqmusic.tc.qq.com
      - '*.stream.qqmusic.qq.com'
      # === Game Service ===
      ## Nintendo Switch
      - '*.n.n.srv.nintendo.net'
      ## Sony PlayStation
      - '*.stun.playstation.net'
      ## Microsoft Xbox
      - xbox.*.*.microsoft.com
      - '*.*.xboxlive.com'
      # === Others ===
      - wlsy.cqut.edu.cn
      ## QQ Quick Login
      - localhost.ptlogin2.qq.com
      ## Golang
      - proxy.golang.org
      ## STUN Server
      - +.stun.*.*
      - +.stun.*.*.*
      - +.stun.*.*.*.*
      - +.stun.*.*.*.*.*
      ## WORKGROUP
      - WORKGROUP
    default-nameserver: # 用于查询下面的 DoH/DoT
      - '114.114.115.115'
      - '223.5.5.5'
      - '1.0.0.1'
    nameserver: # GeoIP 为 CN 时使用的 DNS NameServer
      - '202.202.145.6' # 上级网关DNS，请根据实际设置（宿舍宽带）
      - '114.114.115.115' # 这里开始的DNS可以换成其他DNS，尽可能多设置几个，无需考虑污染
      - '223.5.5.5'
    fallback: # GeoIP 不是 CN 时使用的 DNS NameServer
      - 'https://doh.opendns.com/dns-query'
      - 'https://dns.google/dns-query'
      - 'https://cloudflare-dns.com/dns-query'
    # fallback-filter: #好像不是很需要
    #   geoip: true # 启用 GeoIP
    #   geoip-code: CN
    #   ip-cidr:
    #     - 240.0.0.0/4
    #   domain:
    #     - '+.google.com'
    #     - '+.facebook.com'
    #     - '+.twitter.com'
    #     - '+.youtube.com'
    #     - '+.xn--ngstr-lra8j.com'
    #     - '+.google.cn'
    #     - '+.googleapis.cn'
    #     - '+.googleapis.com'
    #     - '+.gvt1.com'
  tun: # Tun 配置
    enable: true
    stack: system # 使用 system stack 需要在防火墙放行程序
    dns-hijack:
      - any:53
    auto-route: true
    auto-detect-interface: true
